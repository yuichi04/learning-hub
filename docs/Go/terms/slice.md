## Go 言語のスライス（Slice）について

### 概要

スライスは、Go 言語における動的配列のようなデータ構造で、配列よりも柔軟で使いやすいです。スライスは、配列の一部を参照するビューであり、サイズを動的に変更できます。スライスには、長さとキャパシティという 2 つの重要な属性があります。

### スライスの宣言と初期化

#### 空のスライスの宣言

```go
var s []int
```

この例では、整数型の空のスライス`s`を宣言しています。初期状態では`nil`スライスです。

#### スライスの初期化

```go
s := []int{1, 2, 3, 4, 5}
```

この例では、5 つの要素を持つ整数型のスライスを初期化しています。

### スライスの部分選択（スライシング）

スライスは配列や他のスライスの部分を参照することができます。

#### サンプルコード

```go
arr := [5]int{1, 2, 3, 4, 5}
s := arr[1:4] // [2, 3, 4]
```

この例では、配列`arr`の一部を参照するスライス`s`を作成しています。

### スライスのプロパティ

スライスには、長さ（length）とキャパシティ（capacity）の 2 つのプロパティがあります。

#### サンプルコード

```go
s := []int{1, 2, 3, 4, 5}
fmt.Println(len(s)) // 5
fmt.Println(cap(s)) // 5

t := s[1:3]
fmt.Println(len(t)) // 2
fmt.Println(cap(t)) // 4
```

この例では、スライス`t`は元のスライス`s`の一部を参照していますが、キャパシティは元のスライスの後続要素まで含みます。

### スライスの操作

#### 要素の追加

`append`関数を使ってスライスに要素を追加します。

```go
s := []int{1, 2, 3}
s = append(s, 4, 5)
fmt.Println(s) // [1, 2, 3, 4, 5]
```

#### スライスのコピー

`copy`関数を使ってスライスをコピーします。

```go
s := []int{1, 2, 3}
t := make([]int, len(s))
copy(t, s)
fmt.Println(t) // [1, 2, 3]
```

### スライスの作成

`make`関数を使ってスライスを作成できます。`make`関数は、スライスの長さとキャパシティを指定します。

#### サンプルコード

```go
s := make([]int, 5)       // 長さ5、キャパシティ5のスライス
t := make([]int, 5, 10)   // 長さ5、キャパシティ10のスライス
```

### 多次元スライス

スライスを要素とするスライスを作成することで、多次元スライスを作成できます。

#### サンプルコード

```go
matrix := [][]int{
    {1, 2, 3},
    {4, 5, 6},
    {7, 8, 9},
}

fmt.Println(matrix[1][2]) // 6
```

### スライスのリサイジング

スライスは部分選択や`append`関数を使って動的にサイズを変更できます。

#### サンプルコード

```go
s := []int{1, 2, 3, 4, 5}
s = s[:3] // 長さを縮小: [1, 2, 3]
s = s[1:] // 前から要素を削除: [2, 3]
s = append(s, 6) // 要素の追加: [2, 3, 6]
```

### nil スライスと空スライス

`nil`スライスと空スライスは異なります。`nil`スライスは初期化されていないスライスで、長さとキャパシティは 0 です。一方、空スライスは長さとキャパシティが 0 で、初期化されています。

#### サンプルコード

```go
var s1 []int        // nilスライス
s2 := []int{}       // 空スライス

fmt.Println(s1 == nil) // true
fmt.Println(s2 == nil) // false
```

### 参考文献

-   [公式ドキュメント](https://golang.org/doc/effective_go.html#slices)
-   [Go by Example: Slices](https://gobyexample.com/slices)
